{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1>Hierarchikus Tree Map</h1>
    <div id="tree-chart" style="width: 100%; height: 600px;"></div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script>
    // Ellenőrizzük, hogy a treeJSON változó megfelelő JSON adatot tartalmaz-e
    const treeData = JSON.parse('{{ treeJSON | safe }}');

    // Ellenőrzés a konzolban
    console.log(treeData);

    // Tree map megjelenítése
    Plotly.newPlot('tree-chart', treeData.data, treeData.layout);
</script>
{% endblock %}
